<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIBE-X Dashboard — 팀 바이브제왕</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
/* ===== RESET & BASE ===== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #0f1117;
  --surface: #1a1d27;
  --surface2: #232733;
  --border: #2d3348;
  --text: #e4e7ef;
  --text-dim: #8b90a5;
  --accent: #6c5ce7;
  --accent-light: #a29bfe;
  --green: #00cec9;
  --green-bg: rgba(0,206,201,0.12);
  --blue: #0984e3;
  --blue-bg: rgba(9,132,227,0.12);
  --orange: #fdcb6e;
  --orange-bg: rgba(253,203,110,0.12);
  --red: #ff7675;
  --red-bg: rgba(255,118,117,0.12);
  --pink: #e84393;
  --radius: 16px;
  --radius-sm: 10px;
  --shadow: 0 4px 24px rgba(0,0,0,0.25);
}

body {
  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
}

/* ===== LAYOUT ===== */
.app { display: flex; min-height: 100vh; }

.sidebar {
  width: 260px;
  background: var(--surface);
  border-right: 1px solid var(--border);
  padding: 28px 20px;
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 10;
}

.main {
  flex: 1;
  margin-left: 260px;
  padding: 32px 36px;
  max-width: 1400px;
}

/* ===== SIDEBAR ===== */
.logo {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 36px;
}

.logo-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--accent), var(--pink));
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 18px;
  color: #fff;
}

.logo-text {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: -0.5px;
}

.logo-text span { color: var(--accent-light); }

.nav { list-style: none; flex: 1; }

.nav li {
  margin-bottom: 4px;
}

.nav a {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 11px 14px;
  border-radius: var(--radius-sm);
  color: var(--text-dim);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;
  cursor: pointer;
}

.nav a:hover, .nav a.active {
  background: rgba(108,92,231,0.12);
  color: var(--accent-light);
}

.nav a.active { font-weight: 600; }

.nav-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

.sidebar-footer {
  padding-top: 20px;
  border-top: 1px solid var(--border);
  font-size: 12px;
  color: var(--text-dim);
  text-align: center;
}

/* ===== HEADER ===== */
.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 32px;
}

.header h1 {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.5px;
}

.header p {
  color: var(--text-dim);
  font-size: 14px;
  margin-top: 4px;
}

.header-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--green-bg);
  color: var(--green);
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 600;
}

.header-badge::before {
  content: '';
  width: 8px;
  height: 8px;
  background: var(--green);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* ===== CARDS ===== */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
}

.card-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 16px;
}

/* ===== KPI ROW ===== */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 16px;
  margin-bottom: 28px;
}

.kpi-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  position: relative;
  overflow: hidden;
}

.kpi-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
}

.kpi-card.green::after { background: var(--green); }
.kpi-card.blue::after { background: var(--blue); }
.kpi-card.orange::after { background: var(--orange); }
.kpi-card.red::after { background: var(--red); }
.kpi-card.accent::after { background: var(--accent); }

.kpi-label {
  font-size: 12px;
  color: var(--text-dim);
  font-weight: 500;
  margin-bottom: 8px;
}

.kpi-value {
  font-size: 32px;
  font-weight: 800;
  letter-spacing: -1px;
  line-height: 1;
}

.kpi-card.green .kpi-value { color: var(--green); }
.kpi-card.blue .kpi-value { color: var(--blue); }
.kpi-card.orange .kpi-value { color: var(--orange); }
.kpi-card.red .kpi-value { color: var(--red); }
.kpi-card.accent .kpi-value { color: var(--accent-light); }

.kpi-sub {
  font-size: 12px;
  color: var(--text-dim);
  margin-top: 6px;
}

.kpi-sub .up { color: var(--green); }
.kpi-sub .down { color: var(--red); }

/* ===== GRID LAYOUTS ===== */
.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 28px;
}

.grid-3 {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px;
  margin-bottom: 28px;
}

.grid-full {
  margin-bottom: 28px;
}

/* ===== PROGRESS BARS ===== */
.phase-list { display: flex; flex-direction: column; gap: 16px; }

.phase-item {
  display: flex;
  align-items: center;
  gap: 16px;
}

.phase-badge {
  min-width: 80px;
  padding: 6px 0;
  border-radius: 8px;
  text-align: center;
  font-size: 12px;
  font-weight: 700;
}

.phase-badge.p1 { background: var(--green-bg); color: var(--green); }
.phase-badge.p2 { background: var(--blue-bg); color: var(--blue); }
.phase-badge.p3 { background: var(--orange-bg); color: var(--orange); }
.phase-badge.p4 { background: var(--red-bg); color: var(--red); }

.phase-info { flex: 1; }

.phase-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 6px;
}

.phase-desc {
  font-size: 12px;
  color: var(--text-dim);
  margin-bottom: 8px;
}

.progress-track {
  width: 100%;
  height: 8px;
  background: var(--surface2);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  border-radius: 4px;
  transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1);
  width: 0;
}

.progress-fill.p1 { background: linear-gradient(90deg, var(--green), #55efc4); }
.progress-fill.p2 { background: linear-gradient(90deg, var(--blue), #74b9ff); }
.progress-fill.p3 { background: linear-gradient(90deg, var(--orange), #ffeaa7); }
.progress-fill.p4 { background: linear-gradient(90deg, var(--red), #fab1a0); }

.phase-pct {
  min-width: 48px;
  text-align: right;
  font-size: 14px;
  font-weight: 700;
}

/* ===== TASK TABLE ===== */
.task-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.task-table th {
  text-align: left;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
}

.task-table td {
  padding: 12px 12px;
  font-size: 13px;
  border-bottom: 1px solid rgba(45,51,72,0.5);
  vertical-align: middle;
}

.task-table tr:last-child td { border-bottom: none; }

.task-table tr:hover td { background: rgba(108,92,231,0.04); }

.status-dot {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 600;
}

.status-dot::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.status-dot.done::before { background: var(--green); }
.status-dot.done { color: var(--green); }
.status-dot.progress::before { background: var(--blue); }
.status-dot.progress { color: var(--blue); }
.status-dot.pending::before { background: var(--text-dim); }
.status-dot.pending { color: var(--text-dim); }
.status-dot.blocked::before { background: var(--red); }
.status-dot.blocked { color: var(--red); }

/* ===== FLOW DIAGRAM ===== */
.flow-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  padding: 20px 0;
  overflow-x: auto;
}

.flow-node {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  min-width: 120px;
}

.flow-circle {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 800;
  border: 3px solid;
  transition: transform 0.3s;
}

.flow-circle:hover { transform: scale(1.15); }

.flow-circle.l1 { border-color: var(--green); color: var(--green); background: var(--green-bg); }
.flow-circle.l2 { border-color: var(--blue); color: var(--blue); background: var(--blue-bg); }
.flow-circle.l3 { border-color: var(--orange); color: var(--orange); background: var(--orange-bg); }
.flow-circle.l4 { border-color: var(--red); color: var(--red); background: var(--red-bg); }
.flow-circle.l5 { border-color: var(--accent-light); color: var(--accent-light); background: rgba(108,92,231,0.12); }

.flow-label {
  font-size: 11px;
  font-weight: 600;
  text-align: center;
  max-width: 100px;
  color: var(--text-dim);
}

.flow-arrow {
  width: 48px;
  height: 2px;
  background: var(--border);
  position: relative;
  margin: 0 -4px;
  margin-bottom: 20px;
}

.flow-arrow::after {
  content: '';
  position: absolute;
  right: -4px;
  top: -4px;
  border: 5px solid transparent;
  border-left: 6px solid var(--border);
}

.flow-mcp {
  width: 100%;
  text-align: center;
  padding: 10px;
  margin-top: 8px;
  border: 2px dashed var(--accent);
  border-radius: var(--radius-sm);
  color: var(--accent-light);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 1px;
}

/* ===== CHART CONTAINERS ===== */
.chart-wrap {
  position: relative;
  width: 100%;
  max-height: 280px;
}

.chart-wrap canvas {
  max-height: 280px;
}

/* ===== COST TABLE ===== */
.cost-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.cost-box {
  padding: 16px;
  border-radius: var(--radius-sm);
  text-align: center;
}

.cost-box.old { background: rgba(255,118,117,0.08); border: 1px solid rgba(255,118,117,0.2); }
.cost-box.new { background: rgba(0,206,201,0.08); border: 1px solid rgba(0,206,201,0.2); }

.cost-label { font-size: 12px; color: var(--text-dim); margin-bottom: 4px; }

.cost-value {
  font-size: 28px;
  font-weight: 800;
  letter-spacing: -1px;
}

.cost-box.old .cost-value { color: var(--red); }
.cost-box.new .cost-value { color: var(--green); }

.cost-save {
  text-align: center;
  margin-top: 12px;
  font-size: 14px;
  font-weight: 700;
  color: var(--green);
  padding: 10px;
  background: var(--green-bg);
  border-radius: var(--radius-sm);
}

/* ===== GATE STATUS ===== */
.gate-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
}

.gate-item {
  text-align: center;
  padding: 14px 8px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  transition: transform 0.2s;
}

.gate-item:hover { transform: translateY(-2px); }

.gate-num {
  font-size: 20px;
  font-weight: 800;
  margin-bottom: 4px;
}

.gate-name {
  font-size: 10px;
  font-weight: 600;
  color: var(--text-dim);
  margin-bottom: 8px;
}

.gate-status {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 12px;
  font-size: 10px;
  font-weight: 700;
}

.gate-status.active { background: var(--green-bg); color: var(--green); }
.gate-status.setup { background: var(--blue-bg); color: var(--blue); }
.gate-status.plan { background: var(--orange-bg); color: var(--orange); }

/* ===== TIMELINE ===== */
.timeline {
  position: relative;
  padding-left: 24px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 7px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--border);
}

.timeline-item {
  position: relative;
  padding-bottom: 20px;
}

.timeline-item:last-child { padding-bottom: 0; }

.timeline-item::before {
  content: '';
  position: absolute;
  left: -21px;
  top: 4px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  background: var(--bg);
}

.timeline-item.done::before { background: var(--green); border-color: var(--green); }
.timeline-item.current::before { background: var(--blue); border-color: var(--blue); box-shadow: 0 0 0 4px rgba(9,132,227,0.25); }

.timeline-date {
  font-size: 11px;
  color: var(--text-dim);
  margin-bottom: 2px;
}

.timeline-text {
  font-size: 13px;
  font-weight: 500;
}

/* ===== OVERALL PROGRESS RING ===== */
.ring-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 16px 0;
}

.ring-svg {
  width: 160px;
  height: 160px;
  transform: rotate(-90deg);
}

.ring-bg {
  fill: none;
  stroke: var(--surface2);
  stroke-width: 12;
}

.ring-fill {
  fill: none;
  stroke: url(#ringGradient);
  stroke-width: 12;
  stroke-linecap: round;
  stroke-dasharray: 408;
  stroke-dashoffset: 408;
  transition: stroke-dashoffset 2s cubic-bezier(0.22, 1, 0.36, 1);
}

.ring-label {
  font-size: 36px;
  font-weight: 800;
  margin-top: -100px;
  margin-bottom: 60px;
  background: linear-gradient(135deg, var(--accent-light), var(--green));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.ring-sub {
  font-size: 13px;
  color: var(--text-dim);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1200px) {
  .kpi-grid { grid-template-columns: repeat(3, 1fr); }
  .gate-grid { grid-template-columns: repeat(3, 1fr); }
}

@media (max-width: 900px) {
  .sidebar { display: none; }
  .main { margin-left: 0; }
  .kpi-grid { grid-template-columns: repeat(2, 1fr); }
  .grid-2, .grid-3 { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="app">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="logo">
      <div class="logo-icon">VX</div>
      <div class="logo-text">VIBE<span>-X</span></div>
    </div>
    <ul class="nav">
      <li><a class="active" onclick="showSection('overview')"><span class="nav-icon">&#9632;</span> Overview</a></li>
      <li><a onclick="showSection('phases')"><span class="nav-icon">&#9654;</span> Phase 진행</a></li>
      <li><a onclick="showSection('tasks')"><span class="nav-icon">&#9744;</span> Task 관리</a></li>
      <li><a onclick="showSection('architecture')"><span class="nav-icon">&#9881;</span> 아키텍처</a></li>
      <li><a onclick="showSection('quality')"><span class="nav-icon">&#9733;</span> 품질 게이트</a></li>
      <li><a onclick="showSection('cost')"><span class="nav-icon">&#9830;</span> 비용 분석</a></li>
    </ul>
    <div class="sidebar-footer">
      팀 바이브제왕 &copy; 2026<br>
      <span style="font-size:11px; color:var(--accent-light);">v1.0 — Dashboard</span>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main">

    <!-- HEADER -->
    <div class="header">
      <div>
        <h1>VIBE-X 프로젝트 대시보드</h1>
        <p>Agent + MCP + RAG + Collaboration 통합 협업 플랫폼</p>
      </div>
      <div class="header-badge">진행 중</div>
    </div>

    <!-- ===== SECTION: OVERVIEW ===== -->
    <div id="sec-overview">

      <!-- KPI ROW -->
      <div class="kpi-grid">
        <div class="kpi-card green">
          <div class="kpi-label">전체 진행률</div>
          <div class="kpi-value" id="kpi-progress">0%</div>
          <div class="kpi-sub">21개 태스크 중 <span class="up" id="kpi-done-count">0</span>개 완료</div>
        </div>
        <div class="kpi-card blue">
          <div class="kpi-label">아키텍처 일관성</div>
          <div class="kpi-value">40%</div>
          <div class="kpi-sub">목표: 90% <span class="up">&uarr;</span></div>
        </div>
        <div class="kpi-card orange">
          <div class="kpi-label">통합 충돌률</div>
          <div class="kpi-value">45%</div>
          <div class="kpi-sub">목표: 12% <span class="down">&darr;</span></div>
        </div>
        <div class="kpi-card red">
          <div class="kpi-label">설계 결정 추적률</div>
          <div class="kpi-value">10%</div>
          <div class="kpi-sub">목표: 85% <span class="up">&uarr;</span></div>
        </div>
        <div class="kpi-card accent">
          <div class="kpi-label">월 AI 비용</div>
          <div class="kpi-value">$750</div>
          <div class="kpi-sub">목표: $108 <span class="down">&darr; 86%</span></div>
        </div>
      </div>

      <!-- PROGRESS + OVERALL RING -->
      <div class="grid-3">
        <div class="card">
          <div class="card-title">Phase별 진행 현황</div>
          <div class="phase-list">
            <div class="phase-item">
              <div class="phase-badge p1">Phase 1</div>
              <div class="phase-info">
                <div class="phase-name">즉시 적용 — 구조화 프롬프트</div>
                <div class="phase-desc">팀 문서 체계 + PACT-D 프레임워크 | 비용 $0</div>
                <div class="progress-track"><div class="progress-fill p1" data-width="100"></div></div>
              </div>
              <div class="phase-pct" style="color:var(--green)">100%</div>
            </div>
            <div class="phase-item">
              <div class="phase-badge p2">Phase 2</div>
              <div class="phase-info">
                <div class="phase-name">기반 구축 — Living RAG Memory</div>
                <div class="phase-desc">Vector DB + 품질 게이트 기본 | 비용 $0</div>
                <div class="progress-track"><div class="progress-fill p2" data-width="35"></div></div>
              </div>
              <div class="phase-pct" style="color:var(--blue)">35%</div>
            </div>
            <div class="phase-item">
              <div class="phase-badge p3">Phase 3</div>
              <div class="phase-info">
                <div class="phase-name">Agent 자동화 — 멀티 Agent + MCP</div>
                <div class="phase-desc">6-Gate 자동화 + MCP 오케스트레이터 | 저비용</div>
                <div class="progress-track"><div class="progress-fill p3" data-width="0"></div></div>
              </div>
              <div class="phase-pct" style="color:var(--orange)">0%</div>
            </div>
            <div class="phase-item">
              <div class="phase-badge p4">Phase 4</div>
              <div class="phase-info">
                <div class="phase-name">플랫폼화 — 대시보드 + IDE 플러그인</div>
                <div class="phase-desc">팀 인텔리전스 대시보드 + 온보딩 자동화 | 중비용</div>
                <div class="progress-track"><div class="progress-fill p4" data-width="0"></div></div>
              </div>
              <div class="phase-pct" style="color:var(--red)">0%</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-title">전체 프로젝트 달성률</div>
          <div class="ring-container">
            <svg class="ring-svg" viewBox="0 0 140 140">
              <defs>
                <linearGradient id="ringGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#6c5ce7"/>
                  <stop offset="100%" stop-color="#00cec9"/>
                </linearGradient>
              </defs>
              <circle class="ring-bg" cx="70" cy="70" r="65"/>
              <circle class="ring-fill" cx="70" cy="70" r="65" id="ring-progress"/>
            </svg>
            <div class="ring-label" id="ring-label">0%</div>
            <div class="ring-sub">Phase 1 완료 / Phase 2 진행 중</div>
          </div>
        </div>
      </div>

      <!-- CHARTS: TASK STATUS + KPI RADAR -->
      <div class="grid-2">
        <div class="card">
          <div class="card-title">태스크 상태 분포</div>
          <div class="chart-wrap">
            <canvas id="chartTaskStatus"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-title">KPI 목표 대비 현재 (레이더)</div>
          <div class="chart-wrap">
            <canvas id="chartRadar"></canvas>
          </div>
        </div>
      </div>

    </div>

    <!-- ===== SECTION: PHASES ===== -->
    <div id="sec-phases" style="display:none">
      <div class="grid-full card">
        <div class="card-title">Phase별 태스크 타임라인</div>
        <div class="chart-wrap" style="max-height:350px">
          <canvas id="chartTimeline"></canvas>
        </div>
      </div>
      <div class="grid-2" style="margin-top:20px">
        <div class="card">
          <div class="card-title">Phase별 KPI 변화 예측</div>
          <div class="chart-wrap">
            <canvas id="chartKPILine"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-title">프로젝트 타임라인</div>
          <div class="timeline">
            <div class="timeline-item done">
              <div class="timeline-date">2026.02.12 — Day 1</div>
              <div class="timeline-text">Phase 1: 팀 문서 체계 구축 완료</div>
            </div>
            <div class="timeline-item current">
              <div class="timeline-date">2026.02.12 ~ 02.26 — Week 1~2</div>
              <div class="timeline-text">Phase 2: RAG Memory Engine 구축 중</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-date">2026.03 ~ 04 — Month 1~2</div>
              <div class="timeline-text">Phase 3: Agent 자동화 + MCP 구축</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-date">2026.05 ~ 08 — Month 3~6</div>
              <div class="timeline-text">Phase 4: 플랫폼화 + IDE 플러그인</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== SECTION: TASKS ===== -->
    <div id="sec-tasks" style="display:none">
      <div class="grid-full card">
        <div class="card-title">전체 태스크 목록 (21개)</div>
        <table class="task-table">
          <thead>
            <tr>
              <th>Phase</th>
              <th>태스크</th>
              <th>담당</th>
              <th>상태</th>
              <th>산출물</th>
            </tr>
          </thead>
          <tbody id="taskTableBody"></tbody>
        </table>
      </div>
    </div>

    <!-- ===== SECTION: ARCHITECTURE ===== -->
    <div id="sec-architecture" style="display:none">
      <div class="grid-full card">
        <div class="card-title">VIBE-X 5-Layer 아키텍처 흐름도</div>
        <div class="flow-container">
          <div class="flow-node">
            <div class="flow-circle l1">L1</div>
            <div class="flow-label">구조화 프롬프트 & PACT-D</div>
          </div>
          <div class="flow-arrow"></div>
          <div class="flow-node">
            <div class="flow-circle l2">L2</div>
            <div class="flow-label">Living RAG Memory Engine</div>
          </div>
          <div class="flow-arrow"></div>
          <div class="flow-node">
            <div class="flow-circle l3">L3</div>
            <div class="flow-label">멀티 Agent 품질 게이트</div>
          </div>
          <div class="flow-arrow"></div>
          <div class="flow-node">
            <div class="flow-circle l4">L4</div>
            <div class="flow-label">MCP 협업 오케스트레이터</div>
          </div>
          <div class="flow-arrow"></div>
          <div class="flow-node">
            <div class="flow-circle l5">L5</div>
            <div class="flow-label">팀 인텔리전스 대시보드</div>
          </div>
        </div>
        <div class="flow-mcp">&#8597; MCP (Model Context Protocol) — 전체를 관통하는 통신 계층 &#8597;</div>
      </div>
      <div class="grid-2" style="margin-top:20px">
        <div class="card">
          <div class="card-title">기술 스택</div>
          <div class="chart-wrap">
            <canvas id="chartTechStack"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-title">Layer별 핵심 기술</div>
          <table class="task-table">
            <thead><tr><th>Layer</th><th>핵심 기술</th><th>역할</th></tr></thead>
            <tbody>
              <tr><td style="color:var(--green)">L1</td><td>PACT-D Framework</td><td>의도 명시, 아키텍처 정합성</td></tr>
              <tr><td style="color:var(--blue)">L2</td><td>LanceDB + Voyage-code-3</td><td>영속적 지식 베이스</td></tr>
              <tr><td style="color:var(--orange)">L3</td><td>Agent Chain (6-Gate)</td><td>자율적 품질 검증</td></tr>
              <tr><td style="color:var(--red)">L4</td><td>MCP Protocol</td><td>표준 통신, 충돌 방지</td></tr>
              <tr><td style="color:var(--accent-light)">L5</td><td>Next.js + Chart.js</td><td>팀 인텔리전스 시각화</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ===== SECTION: QUALITY ===== -->
    <div id="sec-quality" style="display:none">
      <div class="grid-full card">
        <div class="card-title">6-Gate 품질 검증 파이프라인</div>
        <div class="gate-grid">
          <div class="gate-item">
            <div class="gate-num" style="color:var(--green)">G1</div>
            <div class="gate-name">Syntax Agent</div>
            <div class="gate-status active">활성</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">린터 + 타입 검사</div>
            <div style="font-size:10px;color:var(--green);margin-top:4px">비용: $0</div>
          </div>
          <div class="gate-item">
            <div class="gate-num" style="color:var(--green)">G2</div>
            <div class="gate-name">Rules Agent</div>
            <div class="gate-status active">활성</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">코딩 규칙 준수</div>
            <div style="font-size:10px;color:var(--green);margin-top:4px">비용: $0</div>
          </div>
          <div class="gate-item">
            <div class="gate-num" style="color:var(--blue)">G3</div>
            <div class="gate-name">Integration Agent</div>
            <div class="gate-status setup">구축중</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">기존 테스트 통과</div>
            <div style="font-size:10px;color:var(--blue);margin-top:4px">비용: 저</div>
          </div>
          <div class="gate-item">
            <div class="gate-num" style="color:var(--blue)">G4</div>
            <div class="gate-name">Review Agent</div>
            <div class="gate-status setup">구축중</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">보안 + 성능 리뷰</div>
            <div style="font-size:10px;color:var(--blue);margin-top:4px">비용: 저</div>
          </div>
          <div class="gate-item">
            <div class="gate-num" style="color:var(--orange)">G5</div>
            <div class="gate-name">Architecture Agent</div>
            <div class="gate-status plan">계획</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">ADR 정합성</div>
            <div style="font-size:10px;color:var(--orange);margin-top:4px">비용: $0</div>
          </div>
          <div class="gate-item">
            <div class="gate-num" style="color:var(--orange)">G6</div>
            <div class="gate-name">Collision Agent</div>
            <div class="gate-status plan">계획</div>
            <div style="font-size:11px;color:var(--text-dim);margin-top:6px">팀 충돌 감지</div>
            <div style="font-size:10px;color:var(--orange);margin-top:4px">비용: $0</div>
          </div>
        </div>
      </div>
      <div class="grid-2" style="margin-top:20px">
        <div class="card">
          <div class="card-title">Gate 통과율 추이 (예측)</div>
          <div class="chart-wrap">
            <canvas id="chartGatePass"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-title">리스크 매트릭스</div>
          <div class="chart-wrap">
            <canvas id="chartRisk"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== SECTION: COST ===== -->
    <div id="sec-cost" style="display:none">
      <div class="grid-2">
        <div class="card">
          <div class="card-title">월 비용 비교</div>
          <div class="cost-grid">
            <div class="cost-box old">
              <div class="cost-label">현재 (Opus x5, 시스템 없음)</div>
              <div class="cost-value">$750</div>
            </div>
            <div class="cost-box new">
              <div class="cost-label">VIBE-X + Sonnet x5</div>
              <div class="cost-value">$108</div>
            </div>
          </div>
          <div class="cost-save">86% 절감 — 월 $642 절약</div>
        </div>
        <div class="card">
          <div class="card-title">비용 항목 상세</div>
          <div class="chart-wrap">
            <canvas id="chartCostBreakdown"></canvas>
          </div>
        </div>
      </div>
      <div class="grid-2" style="margin-top:20px">
        <div class="card">
          <div class="card-title">현재 vs VIBE-X 성능 비교</div>
          <div class="chart-wrap">
            <canvas id="chartCompare"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-title">ROI 예측 (6개월)</div>
          <div class="chart-wrap">
            <canvas id="chartROI"></canvas>
          </div>
        </div>
      </div>
    </div>

  </main>
</div>

<script>
/* ===== DATA ===== */
const TASKS = [
  { phase: 1, id: '1.1', name: '프로젝트 정의 문서 작성', owner: '팀 리드', status: 'done', output: 'project-definition.md' },
  { phase: 1, id: '1.2', name: '아키텍처 맵 작성', owner: '시니어 개발자', status: 'done', output: 'architecture-map.md' },
  { phase: 1, id: '1.3', name: '코딩 규칙 문서 작성', owner: '팀 전원', status: 'done', output: 'coding-rules.md' },
  { phase: 1, id: '1.4', name: 'ADR 운영 체계 구축', owner: '팀 리드', status: 'done', output: 'docs/adr/' },
  { phase: 1, id: '1.5', name: 'PACT-D 프레임워크 적용', owner: '팀 전원', status: 'done', output: 'PACT-D 템플릿' },
  { phase: 1, id: '1.6', name: 'memory.md 자동 기록 설정', owner: '환경 담당', status: 'done', output: '.cursorrules' },
  { phase: 2, id: '2.1', name: 'Vector DB 환경 구축', owner: '백엔드', status: 'progress', output: 'LanceDB 설정' },
  { phase: 2, id: '2.2', name: '임베딩 파이프라인 구축', owner: 'ML 엔지니어', status: 'progress', output: 'Voyage-code-3' },
  { phase: 2, id: '2.3', name: '코드베이스 전체 임베딩', owner: '백엔드', status: 'pending', output: '벡터 인덱스' },
  { phase: 2, id: '2.4', name: 'Git Hook 품질 게이트', owner: 'DevOps', status: 'pending', output: 'Husky 설정' },
  { phase: 2, id: '2.5', name: 'Hidden Intent File 시스템', owner: '풀스택', status: 'pending', output: '.meta.json' },
  { phase: 2, id: '2.6', name: 'RAG 질의 인터페이스', owner: '풀스택', status: 'pending', output: 'RAG API' },
  { phase: 3, id: '3.1', name: 'MCP 서버 설계 및 구축', owner: '아키텍트', status: 'pending', output: 'MCP 서버' },
  { phase: 3, id: '3.2', name: 'Quality Gate 3~4 구현', owner: '백엔드', status: 'pending', output: 'Gate 3,4' },
  { phase: 3, id: '3.3', name: 'Collision Agent 구현', owner: '풀스택', status: 'pending', output: 'Gate 6' },
  { phase: 3, id: '3.4', name: 'Work Zone Isolation', owner: '백엔드', status: 'pending', output: '영역 분리 API' },
  { phase: 3, id: '3.5', name: 'Decision Extractor Agent', owner: 'ML 엔지니어', status: 'pending', output: 'ADR 자동화' },
  { phase: 3, id: '3.6', name: 'Agent 체인 오케스트레이션', owner: '아키텍트', status: 'pending', output: '6-Gate 파이프라인' },
  { phase: 4, id: '4.1', name: '대시보드 설계 및 구현', owner: 'UI/프론트', status: 'pending', output: '웹 대시보드' },
  { phase: 4, id: '4.2', name: '대시보드 백엔드 API', owner: '백엔드', status: 'pending', output: 'REST API' },
  { phase: 4, id: '4.3', name: 'IDE 플러그인 개발', owner: '플러그인 개발', status: 'pending', output: 'cursor-vibex' },
  { phase: 4, id: '4.4', name: 'RAG 온보딩 자동 브리핑', owner: 'ML/풀스택', status: 'pending', output: '온보딩 시스템' },
  { phase: 4, id: '4.5', name: '피드백 루프 자동화', owner: '아키텍트', status: 'pending', output: '자동 리포트' },
];

const STATUS_MAP = {
  done: { label: '완료', cls: 'done' },
  progress: { label: '진행중', cls: 'progress' },
  pending: { label: '대기', cls: 'pending' },
  blocked: { label: '차단', cls: 'blocked' },
};

const PHASE_COLORS = { 1: '#00cec9', 2: '#0984e3', 3: '#fdcb6e', 4: '#ff7675' };

/* ===== NAVIGATION ===== */
function showSection(name) {
  const sections = ['overview', 'phases', 'tasks', 'architecture', 'quality', 'cost'];
  sections.forEach(s => {
    const el = document.getElementById('sec-' + s);
    if (el) el.style.display = s === name ? 'block' : 'none';
  });
  document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
  event.currentTarget.classList.add('active');
}

/* ===== RENDER TASK TABLE ===== */
function renderTaskTable() {
  const tbody = document.getElementById('taskTableBody');
  tbody.innerHTML = TASKS.map(t => {
    const st = STATUS_MAP[t.status];
    return `<tr>
      <td><span style="color:${PHASE_COLORS[t.phase]};font-weight:700">P${t.phase}</span> — ${t.id}</td>
      <td>${t.name}</td>
      <td style="color:var(--text-dim)">${t.owner}</td>
      <td><span class="status-dot ${st.cls}">${st.label}</span></td>
      <td style="color:var(--text-dim);font-size:12px">${t.output}</td>
    </tr>`;
  }).join('');
}

/* ===== ANIMATE PROGRESS BARS ===== */
function animateProgressBars() {
  document.querySelectorAll('.progress-fill').forEach(bar => {
    const w = bar.getAttribute('data-width');
    setTimeout(() => { bar.style.width = w + '%'; }, 300);
  });
}

/* ===== ANIMATE RING ===== */
function animateRing() {
  const doneCount = TASKS.filter(t => t.status === 'done').length;
  const pct = Math.round((doneCount / TASKS.length) * 100);
  const circumference = 2 * Math.PI * 65;
  const offset = circumference - (circumference * pct / 100);
  setTimeout(() => {
    document.getElementById('ring-progress').style.strokeDashoffset = offset;
    document.getElementById('ring-label').textContent = pct + '%';
    document.getElementById('kpi-progress').textContent = pct + '%';
    document.getElementById('kpi-done-count').textContent = doneCount;
  }, 500);
}

/* ===== CHARTS ===== */
const chartDefaults = {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: { labels: { color: '#8b90a5', font: { size: 12 } } },
  },
  scales: {
    x: { ticks: { color: '#8b90a5' }, grid: { color: 'rgba(45,51,72,0.4)' } },
    y: { ticks: { color: '#8b90a5' }, grid: { color: 'rgba(45,51,72,0.4)' } },
  },
};

function initCharts() {
  /* Task Status Doughnut */
  const statusCounts = { done: 0, progress: 0, pending: 0 };
  TASKS.forEach(t => { if (statusCounts[t.status] !== undefined) statusCounts[t.status]++; });

  new Chart(document.getElementById('chartTaskStatus'), {
    type: 'doughnut',
    data: {
      labels: ['완료', '진행중', '대기'],
      datasets: [{
        data: [statusCounts.done, statusCounts.progress, statusCounts.pending],
        backgroundColor: ['#00cec9', '#0984e3', '#2d3348'],
        borderWidth: 0,
        hoverOffset: 8,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      cutout: '65%',
      plugins: {
        legend: { position: 'bottom', labels: { color: '#8b90a5', padding: 16, font: { size: 12 } } },
      },
    },
  });

  /* KPI Radar */
  new Chart(document.getElementById('chartRadar'), {
    type: 'radar',
    data: {
      labels: ['아키텍처 일관성', '컨텍스트 유지율', '설계 결정 추적률', '통합 충돌률(역)', '온보딩 속도'],
      datasets: [
        {
          label: '현재',
          data: [40, 40, 10, 55, 20],
          borderColor: '#ff7675',
          backgroundColor: 'rgba(255,118,117,0.1)',
          pointBackgroundColor: '#ff7675',
        },
        {
          label: '목표 (VIBE-X)',
          data: [90, 98, 85, 88, 90],
          borderColor: '#00cec9',
          backgroundColor: 'rgba(0,206,201,0.1)',
          pointBackgroundColor: '#00cec9',
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        r: {
          beginAtZero: true,
          max: 100,
          ticks: { color: '#8b90a5', backdropColor: 'transparent', stepSize: 25 },
          grid: { color: 'rgba(45,51,72,0.5)' },
          pointLabels: { color: '#8b90a5', font: { size: 11 } },
        },
      },
      plugins: {
        legend: { position: 'bottom', labels: { color: '#8b90a5', padding: 16, font: { size: 12 } } },
      },
    },
  });

  /* Phase Timeline (Horizontal Bar) */
  new Chart(document.getElementById('chartTimeline'), {
    type: 'bar',
    data: {
      labels: [
        'T1.1 프로젝트 정의', 'T1.2 아키텍처 맵', 'T1.3 코딩 규칙', 'T1.4 ADR 체계', 'T1.5 PACT-D', 'T1.6 memory.md',
        'T2.1 Vector DB', 'T2.2 임베딩', 'T2.3 코드베이스', 'T2.4 Git Hook', 'T2.5 Intent File', 'T2.6 RAG 질의',
        'T3.1 MCP 서버', 'T3.2 Gate 3-4', 'T3.3 Collision', 'T3.4 Work Zone', 'T3.5 Decision', 'T3.6 Agent 체인',
        'T4.1 대시보드', 'T4.2 백엔드 API', 'T4.3 IDE 플러그인', 'T4.4 온보딩', 'T4.5 피드백 루프',
      ],
      datasets: [{
        label: '진행률 (%)',
        data: [100,100,100,100,100,100, 60,40,0,0,0,0, 0,0,0,0,0,0, 0,0,0,0,0],
        backgroundColor: TASKS.map(t => PHASE_COLORS[t.phase] + (t.status === 'done' ? '' : '80')),
        borderRadius: 4,
        barThickness: 14,
      }],
    },
    options: {
      indexAxis: 'y',
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: { max: 100, ticks: { color: '#8b90a5', callback: v => v + '%' }, grid: { color: 'rgba(45,51,72,0.3)' } },
        y: { ticks: { color: '#8b90a5', font: { size: 11 } }, grid: { display: false } },
      },
      plugins: { legend: { display: false } },
    },
  });

  /* KPI Line Chart */
  new Chart(document.getElementById('chartKPILine'), {
    type: 'line',
    data: {
      labels: ['현재', 'Phase 2', 'Phase 3', 'Phase 4'],
      datasets: [
        { label: '아키텍처 일관성', data: [40, 70, 85, 90], borderColor: '#6c5ce7', backgroundColor: 'rgba(108,92,231,0.1)', fill: true, tension: 0.4 },
        { label: '컨텍스트 유지율', data: [40, 95, 95, 98], borderColor: '#00cec9', backgroundColor: 'rgba(0,206,201,0.1)', fill: true, tension: 0.4 },
        { label: '설계 결정 추적률', data: [10, 50, 75, 85], borderColor: '#fdcb6e', backgroundColor: 'rgba(253,203,110,0.1)', fill: true, tension: 0.4 },
      ],
    },
    options: {
      ...chartDefaults,
      scales: {
        ...chartDefaults.scales,
        y: { ...chartDefaults.scales.y, min: 0, max: 100, ticks: { ...chartDefaults.scales.y.ticks, callback: v => v + '%' } },
      },
    },
  });

  /* Tech Stack (Polar Area) */
  new Chart(document.getElementById('chartTechStack'), {
    type: 'polarArea',
    data: {
      labels: ['IDE (Cursor)', 'Vector DB', 'Embedding', 'Orchestration', 'Git Hooks', 'MCP Protocol'],
      datasets: [{
        data: [9, 8, 9, 8, 7, 10],
        backgroundColor: [
          'rgba(108,92,231,0.6)', 'rgba(0,206,201,0.6)', 'rgba(9,132,227,0.6)',
          'rgba(253,203,110,0.6)', 'rgba(255,118,117,0.6)', 'rgba(232,67,147,0.6)',
        ],
        borderWidth: 0,
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: { r: { ticks: { display: false }, grid: { color: 'rgba(45,51,72,0.4)' } } },
      plugins: { legend: { position: 'right', labels: { color: '#8b90a5', padding: 12, font: { size: 11 } } } },
    },
  });

  /* Gate Pass Rate */
  new Chart(document.getElementById('chartGatePass'), {
    type: 'line',
    data: {
      labels: ['Week 1', 'Week 2', 'Week 4', 'Month 2', 'Month 3', 'Month 6'],
      datasets: [
        { label: 'Gate 1-2 (Syntax/Rules)', data: [70, 82, 90, 95, 97, 99], borderColor: '#00cec9', tension: 0.4, pointRadius: 4 },
        { label: 'Gate 3-4 (Integration/Review)', data: [0, 0, 50, 70, 85, 92], borderColor: '#0984e3', tension: 0.4, pointRadius: 4 },
        { label: 'Gate 5-6 (Arch/Collision)', data: [0, 0, 30, 60, 80, 90], borderColor: '#fdcb6e', tension: 0.4, pointRadius: 4 },
      ],
    },
    options: {
      ...chartDefaults,
      scales: {
        ...chartDefaults.scales,
        y: { ...chartDefaults.scales.y, min: 0, max: 100, ticks: { ...chartDefaults.scales.y.ticks, callback: v => v + '%' } },
      },
    },
  });

  /* Risk Bubble */
  new Chart(document.getElementById('chartRisk'), {
    type: 'bubble',
    data: {
      datasets: [
        { label: '팀원 프로세스 저항', data: [{ x: 3, y: 4, r: 16 }], backgroundColor: 'rgba(255,118,117,0.6)' },
        { label: 'RAG 정확도 부족', data: [{ x: 3, y: 3, r: 14 }], backgroundColor: 'rgba(253,203,110,0.6)' },
        { label: 'MCP 통신 지연', data: [{ x: 2, y: 3, r: 10 }], backgroundColor: 'rgba(9,132,227,0.6)' },
        { label: 'Agent 비용 초과', data: [{ x: 2, y: 3, r: 10 }], backgroundColor: 'rgba(108,92,231,0.6)' },
        { label: 'DB 스케일링', data: [{ x: 1, y: 2, r: 8 }], backgroundColor: 'rgba(0,206,201,0.6)' },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: { title: { display: true, text: '발생 가능성', color: '#8b90a5' }, min: 0, max: 5, ticks: { color: '#8b90a5' }, grid: { color: 'rgba(45,51,72,0.3)' } },
        y: { title: { display: true, text: '영향도', color: '#8b90a5' }, min: 0, max: 5, ticks: { color: '#8b90a5' }, grid: { color: 'rgba(45,51,72,0.3)' } },
      },
      plugins: { legend: { position: 'bottom', labels: { color: '#8b90a5', font: { size: 10 }, padding: 10 } } },
    },
  });

  /* Cost Breakdown */
  new Chart(document.getElementById('chartCostBreakdown'), {
    type: 'bar',
    data: {
      labels: ['코드 생성', 'Agent 리뷰', 'RAG Indexing', 'Decision Extraction'],
      datasets: [
        { label: 'Opus x5 (현재)', data: [750, 0, 0, 0], backgroundColor: 'rgba(255,118,117,0.7)', borderRadius: 6 },
        { label: 'VIBE-X + Sonnet x5', data: [75, 15, 10, 8], backgroundColor: 'rgba(0,206,201,0.7)', borderRadius: 6 },
      ],
    },
    options: {
      ...chartDefaults,
      scales: {
        ...chartDefaults.scales,
        y: { ...chartDefaults.scales.y, ticks: { ...chartDefaults.scales.y.ticks, callback: v => '$' + v } },
      },
    },
  });

  /* Performance Compare */
  new Chart(document.getElementById('chartCompare'), {
    type: 'bar',
    data: {
      labels: ['코드 품질', '아키텍처 일관성', '통합 충돌률', '설계 결정 추적'],
      datasets: [
        { label: 'Opus x5 (시스템 없음)', data: [90, 40, 45, 10], backgroundColor: 'rgba(255,118,117,0.7)', borderRadius: 6 },
        { label: 'VIBE-X + Sonnet x5', data: [85, 90, 12, 85], backgroundColor: 'rgba(0,206,201,0.7)', borderRadius: 6 },
      ],
    },
    options: {
      ...chartDefaults,
      scales: {
        ...chartDefaults.scales,
        y: { ...chartDefaults.scales.y, max: 100, ticks: { ...chartDefaults.scales.y.ticks, callback: v => v + '%' } },
      },
    },
  });

  /* ROI Line */
  new Chart(document.getElementById('chartROI'), {
    type: 'line',
    data: {
      labels: ['Month 0', 'Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6'],
      datasets: [
        { label: '누적 비용 (Opus x5)', data: [0, 750, 1500, 2250, 3000, 3750, 4500], borderColor: '#ff7675', borderDash: [5, 5], tension: 0, pointRadius: 3 },
        { label: '누적 비용 (VIBE-X)', data: [200, 308, 416, 524, 632, 740, 848], borderColor: '#00cec9', tension: 0, pointRadius: 3 },
        { label: '누적 절감액', data: [0, 442, 1084, 1726, 2368, 3010, 3652], borderColor: '#6c5ce7', backgroundColor: 'rgba(108,92,231,0.1)', fill: true, tension: 0.3, pointRadius: 3 },
      ],
    },
    options: {
      ...chartDefaults,
      scales: {
        ...chartDefaults.scales,
        y: { ...chartDefaults.scales.y, ticks: { ...chartDefaults.scales.y.ticks, callback: v => '$' + v } },
      },
    },
  });
}

/* ===== INIT ===== */
document.addEventListener('DOMContentLoaded', () => {
  renderTaskTable();
  animateProgressBars();
  animateRing();
  initCharts();
});
</script>

</body>
</html>
